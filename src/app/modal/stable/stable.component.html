<app-modal-layout title="Stable">
    <main>
        <section class="monster-box">
            <div class="grass-bg"></div>
            @for(monster of tamedMonsterList(); track monster.id){
            <img
                class="monster"
                [class]="selectedId() === monster.id ? 'bouncy' : ''"
                [src]="getImage(monster.monsterSpecies).base"
                alt="toi"
                (click)="select(monster)"
            />
            }
        </section>
        <section class="monster-panel">
            @if(selectedMonster(); as monster){
            <div>
                <div class="profil-container">
                    <img
                        class="profil"
                        [src]="getImage(monster.monsterSpecies).base"
                        [alt]="monster.name"
                    />
                    <div class="info-container">
                        <h3>{{ monster.name }}</h3>
                        <div class="inline">
                            <div class="xp">
                                <app-xp-range
                                    [currentXp]="getMonsterLevel(monster)"
                                    [maxXp]="90"
                                />
                            </div>
                            <p class="trait">{{ monster.trait }}</p>
                        </div>
                        <div class="inline">
                            @for (profession of monster.availableProfession;
                            track $index) {
                            <p class="profession">
                                {{ profession.name }} ({{
                                    profession.level
                                }}/30)
                            </p>
                            }
                        </div>
                    </div>
                </div>
            </div>
            <div class="bottom">
                <button class="btn" (click)="openMonsterModal()">
                    Voir plus
                </button>
            </div>
            }
        </section>
    </main>
</app-modal-layout>
