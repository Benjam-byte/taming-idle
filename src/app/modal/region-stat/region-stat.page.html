<app-modal-layout title="La rÃ©gion">
    <div class="info">
        <img class="perso-img" src="assets/region/plaine.png" alt="player" />
        <div class="xp-wrapper">
            <h2>La plaine</h2>
            <div>
                <p>Niveau</p>
                <app-xp-range
                    [currentXp]="(combatTowerManagerService.combatTower$ | async)?.level ?? 0"
                    [maxXp]="10"
                />
            </div>
        </div>
    </div>
    <main>
        @if(regionService.region$ | async; as region) {
        <div class="combat-wrapper">
            <h2>Combat</h2>
            <div class="text-combat">
                <div class="stat-group">
                    <div class="line">
                        <img [src]="statIconDict['damage']" alt="damage" />
                        <p>{{ region.monsterSpawnRate * 100 }}% monster</p>
                    </div>
                    <div class="line">
                        <img [src]="statIconDict['damage']" alt="damage" />
                        <p>
                            {{ region.enchantedMonsterRate * 100 }}% enchanted
                            monster
                        </p>
                    </div>
                    <div class="line">
                        <img [src]="statIconDict['damage']" alt="damage" />
                        <p>{{ region.eggSpawnRate * 100 }}% monster egg (sp)</p>
                    </div>
                </div>
                <div class="stat-group">
                    <div class="line">
                        <img [src]="statIconDict['damage']" alt="damage" />
                        <p>
                            {{ (region.resourceQuantity * 100) - 100 | roundTo :
                            2}}% resource quantity
                        </p>
                    </div>
                    <div class="line">
                        <img [src]="statIconDict['damage']" alt="damage" />
                        <p>
                            {{ region.enchantedResource * 100 }}% enchanted
                            resource
                        </p>
                    </div>
                    <div class="line">
                        <img [src]="statIconDict['damage']" alt="damage" />
                        <p>
                            {{ (region.monsterResourceQuantity * 100) - 100 |
                            roundTo : 2}}% Soul drop
                        </p>
                    </div>
                    <div class="line">
                        <img [src]="statIconDict['damage']" alt="damage" />
                        <p>
                            {{ region.enchantedMonsterResource * 100 }}%
                            Enchanted soul drop
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <div class="combat-wrapper">
            <h2>Action</h2>
            <div class="text-combat">
                <div class="stat-group">
                    <div class="line">
                        <img
                            [src]="statIconDict['travellingSpeed']"
                            alt="footsteps"
                        />
                        <p>
                            {{ region.monsterWithTresorDropPercentage * 100 |
                            roundTo : 2}}% monster with tresor
                        </p>
                    </div>
                    <div class="line">
                        <img
                            [src]="statIconDict['fightingSpeed']"
                            alt="damage"
                        />
                        <p>
                            {{ region.tresorMapSpawnRate * 100 | roundTo : 2}}%
                            tresor map
                        </p>
                    </div>
                    <div class="line">
                        <img
                            [src]="statIconDict['searchingSpeed']"
                            alt="damage"
                        />
                        <p>
                            {{ region.highQualityChest * 100 }}% high quality
                            tresor
                        </p>
                    </div>
                </div>
            </div>
        </div>
        }
    </main>
</app-modal-layout>
