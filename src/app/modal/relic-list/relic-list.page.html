<app-modal-layout title="Liste des reliques">
    @if(relicManagerService.relicList$ |async; as relicList) { @for(entry of
    groupRelicsByRank(relicList) | keyvalue; track entry.key) {
    <div class="relic-category-container">
        <h2>{{entry.key}}</h2>
        <div class="relic-list-container">
            @for (relic of entry.value; track relic.id) {
            <div
                class="relic-card"
                [class.unknown]="relic.quantity < 0"
                [class.selected]="selectedId() === relic.id"
                (click)="select(relic)"
            >
                <img
                    [src]="relic.quantity === 0 ? 'assets/icon/question.png' : relic.imagePath"
                    alt="relic"
                />
                <div class="badge">{{relic.quantity}}</div>
            </div>
            }
        </div>
    </div>
    } @if(getSelectedRelic(relicList); as selectedRelic) {
    <div class="relic-info">
        <h3>{{selectedRelic.name}}</h3>
        <p class="rank">Rank : {{selectedRelic.rank}}</p>
        <p class="relic-description">{{selectedRelic.description}}</p>
        <div class="stat-info">
            <div class="line">
                <img src="assets/icon/stat/damage.png" alt="damage" />
                <p>+ {{selectedRelic.effet.value}}</p>
            </div>
        </div>
    </div>
    } }
    <div class="info-container">
        <div class="stat-info y-align" (click)="setIsInfoOpen()">
            <h3>Info</h3>
            <img
                class="info-button"
                src="assets/icon/information.png"
                alt="info"
            />
        </div>
        @if(isInfoOpen()) {
        <p>
            Les reliques sont des objets rares que l’on peut trouver uniquement
            dans les coffres. Elles peuvent être assignées aux monstres pour
            leur offrir différents bonus de statistiques, ce qui les rend plus
            puissants ou spécialisés selon leur rôle. Plus tard dans l’aventure,
            il sera aussi possible de les forger ou de les fusionner pour
            obtenir des versions améliorées, encore plus efficaces.
        </p>
        }
    </div>
</app-modal-layout>
